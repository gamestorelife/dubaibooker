<div class="popup-content">
  <div class="popup-header">
    <div class="fonticon" id="popup-button">
      <i class="fa-regular fa-arrow-left"></i>
    </div>
    <div class="midtourname">
      <p class="tourheadername">${tour.tourName}</p>
    </div>
    <div class="fonticon"><i class="fa-regular fa-cart-shopping-fast"></i></div>
  </div>

  <div id="mfirstcontainer">
    <div class="datecontainer">
      <div class="datecontainer-title"><h4>Select travel date</h4></div>
      <div class="calandercontainer">
        <input
          type="text"
          id="traveldate"
          placeholder="Check In Date"
          class="d-none"
          value=""
        />
      </div>
    </div>
    <div class="travller-title">
      <h4>Select Travellers</h4>
    </div>

    <div class="adultprice-details">
      <div class="price-details">
        <div class="adultprice-icon"><i class="fa-light fa-user"></i></div>
        <div class="mini-detail-container">
          <div>
            <p class="mini-detail"><b>Adult</b></p>
          </div>
          <div><p class="mini-detail">${adultPrice} AED</p></div>
        </div>
      </div>

      <div class="adultcounter">
        <div>
          <button id="decrement" class="countericon">
            <i class="fa-solid fa-circle-minus customico"></i>
          </button>
        </div>
        <div class="adultnumber">
          <h2><span id="counter" value="">1</span></h2>
        </div>
        <div>
          <button id="increment" class="countericon">
            <i class="fa-solid fa-circle-plus customico"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="adultprice-details">
      <div class="price-details">
        <div class="adultprice-icon"><i class="fa-light fa-user"></i></div>

        <div class="mini-detail-container">
          <p class="mini-detail"><b>Child(2-11Yrs)</b></p>
          <p class="mini-detail">${childPrice} AED</p>
        </div>
      </div>

      <div class="adultcounter">
        <div>
          <button id="childdecrement" class="countericon">
            <i class="fa-solid fa-circle-minus customico"></i>
          </button>
        </div>
        <div class="adultnumber">
          <h2><span id="childcounter" value="">0</span></h2>
        </div>
        <div>
          <button id="childincrement" class="countericon">
            <i class="fa-solid fa-circle-plus customico"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="adultprice-details">
      <div class="price-details">
        <div class="adultprice-icon"><i class="fa-light fa-user"></i></div>

        <div class="mini-detail-container">
          <p class="mini-detail"><b>Infant(0-3Yrs)</b></p>
          <p class="mini-detail">${infantPrice} AED</p>
        </div>
      </div>

      <div class="adultcounter">
        <div>
          <button id="infantdecrement" class="countericon">
            <i class="fa-solid fa-circle-minus customico"></i>
          </button>
        </div>
        <div class="adultnumber">
          <h2><span id="infantcounter" value="">0</span></h2>
        </div>
        <div>
          <button id="infantincrement" class="countericon">
            <i class="fa-solid fa-circle-plus customico"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="adultsubmession">
      <button id="adultnumbersubmit" class="submit-button customico">
        Next
      </button>
    </div>
  </div>
  <div id="secondoptionscontainer">
    <div id="act-options" class="tourOptioncont"></div>
  </div>
</div>

<script>
  try {
               // Make the POST request for the clicked tourOptionId
               const TimeSlotResponse = await fetch("/time-slot", {
                 method: "POST",
                 headers: {
                   "Content-Type": "application/json",
                 },
                 body: JSON.stringify({
                   tourId: tourId,
                   tourOptionId: TourOption,
                   contractId: contractId,
                   travelDate: selectedDate,
                   transferId:transferId,
                   adult: selectedAdults,
                   child: selectedChild,
                   noOfInfant: selectedInfant,
                   // Add any other parameters needed for the request
                 }),
               });

               if (!TimeSlotResponse.ok) {
                 throw new Error("Network response was not ok");
               }

               const finTimmeResponse = await TimeSlotResponse.json();

               //console.log(finTimmeResponse);

               // Process the responseData as needed
               const actTransferDiv = document.getElementById("act-tranfer");
               actTransferDiv.innerHTML = "";

               finTimmeResponse.result.forEach((transferOption) => {


                 // Create HTML elements for each transfer option
                 const transferOptionDiv = document.createElement("div");
                 transferOptionDiv.className = "transfer-option";

                 // Populate the transfer option details
                 transferOptionDiv.innerHTML = `
                 <div class="transferoption-container">
                 <div class="option-m-name">
                 <h4>${transferOption.transferName}</h4>
                 </div>
                 <div>
                     <p><strong>Adult Price:</strong> ${increasedAdultPrice} ${fineResponseData.currency}</p>
                     <p><strong>Child Price:</strong> ${increasedChildPrice} ${fineResponseData.currency}</p>
                     <p><strong>Infant Price:</strong> ${increasedInfantPrice} ${fineResponseData.currency}</p>
                     <p><strong>Start Time:</strong> ${transferOption.startTime}</p>
                     <p>${transferOption.departureTime}</p>
                 <div>
                 <p><strong>Total Amount:</strong> ${increasedFinalAmount} ${fineResponseData.currency}</p>
                 </div>

                     <!-- Add more details here -->
                 </div>

                 </div>

                 `;

                 // Append the transfer option div to the act-transfer div
                 actTransferDiv.appendChild(transferOptionDiv);

  })
             } catch (error) {
               console.error("Error::::", error);
             }
</script>
